settings="eyJjYWxsYmFja1VybCI6Imh0dHBzOi8vcHJpdmFjeXBvcnRhbC5vbmV0cnVzdC5jb20vcmVxdWVzdC92MS9wcml2YWN5Tm90aWNlcy9zdGF0cy92aWV3cyJ9"

function updateFocusToHashAnchor() { if (location.hash != "") { let desiredLocationHash = location.hash; location.hash = ""; location.hash = desiredLocationHash; } } function drawYellowBoxAroundNotices() { const noticeSectionRegex = RegExp('^Notice:'); const yellowBoxStyle = "border:1px solid black; background-color:#FFF2CC; padding:10px;"; document.querySelectorAll('.legal\_doc .otnotice p').forEach( (node) => { if (noticeSectionRegex.test(node.outerText)) { node.style = yellowBoxStyle; } } ); } function renameOneTrustHeaderTags() { const ONETRUST\_CLASS\_SELECTOR = '.otnotice' const punctuationRegex = /\[ '"\`.,\\/\\\\><#!$%?@\\^&\\\*+;:{}=\\~()-\]/g; const allHeaderTagsQuerySelector = 'h1, h2, h3, h4, h5, h6'; const regexForNumericPrefix = /^\[0-9\]+\[.\]\[0-9\]\* /; const regexForDuplicateUnderscores = /\[\_\]{2,}/g; const regexForLeadingUnderscores = /^\_+/g; const regexForTrailingUnderscores = /\_+$/g; document.querySelector(ONETRUST\_CLASS\_SELECTOR).querySelectorAll(allHeaderTagsQuerySelector).forEach( (node) => { let newNameForTag = node.textContent .replace(regexForNumericPrefix, "") .replace(punctuationRegex, "\_") .replace(regexForDuplicateUnderscores, "\_") .replace(regexForLeadingUnderscores, "") .replace(regexForTrailingUnderscores, "") .toLowerCase(); node.setAttribute( "id", newNameForTag ); } ); } (function fetchPolicyDocumentFromOneTrust() { OneTrust.NoticeApi.Initialized.then(function() { page\_info = document.getElementById('vimeo\_onetrust\_page\_src'); url = page\_info.dataset.url; production = page\_info.dataset.prod; OneTrust.NoticeApi.LoadNotices(\[url\], production) .then(renameOneTrustHeaderTags) .then(drawYellowBoxAroundNotices) .then(updateFocusToHashAnchor); }); })();